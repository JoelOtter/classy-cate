#///////////////////////////////////////////////////////////////////////////////
# Templates and Important Variables
#///////////////////////////////////////////////////////////////////////////////

CLASSY_CATE_SCRIPT_VERSION = "<%= settings.userscript_version %>"

PERIOD = null

TIMELINE_STRUCTURE = {
  title: ['id','type']
  extendedTitle: ['name']
  content: {
    names: ['HAND IN', 'SPEC', 'GIVENS']
    keys: ['handin', 'spec', 'given_element']
  }
}

#///////////////////////////////////////////////////////////////////////////////
# Misc
#///////////////////////////////////////////////////////////////////////////////

activate_nostalgia_mode = ->
  nostalgia_colors =
    [
      'Teal',             'DarkCyan',           'DeepSkyBlue',
      'DarkTurquoise',    'MediumSpringGreen',  'Lime'
      'SpringGreen',      'Aqua',               'Cyan',
      'MidnightBlue',     'DodgerBlue',         'LightSeaGreen'
      'Turquoise',        'RoyalBlue',          'SteelBlue'
      'MediumTurquoise',  'CadetBlue',          'CornflowerBlue'
      'MediumAquaMarine'
    ]

  $('body, footer, div, span, td, input').each (index, elem) ->
    random_nostalgia_color = nostalgia_colors[Math.floor(Math.random()*nostalgia_colors.length)]
    $(elem).css('background', random_nostalgia_color)

  $('#old-cate-button').unbind()
  $('#old-cate-button').html("Mother of God, make it stop!")
  $('#old-cate-button').bind 'click', ->
    alert('Computer says NO.')

redirect_if_necessary = ->
  if /student\.cgi/i.test(document.URL)
    window.location = "/#grades"

  if /timetable\.cgi/i.test(document.URL)
    window.location = "/#exercises"

